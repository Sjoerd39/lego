list.files(path = "data/")
fp <- list.files(path = "data/")
list <- lapply(fp, read.csv)
fp <- list.files(path = "data/", full.names = TRUE)
list <- lapply(fp, read.csv)
fp <- list.files(path = "data/", full.names = TRUE, pattern="*.csv")
list <- lapply(fp, read.csv)
library(tidyverse)
list[[1]]
View(list[[1]])
names(list)
names <- list.files(path = "data/", pattern="*.csv")
names <- list.files(path = "data/", pattern="*.csv") %>%
str_replace_all(".csv", "")
names(list) <- names
names(list)
lego_df <- list$parts
View(lego_df)
lego_df <- list$parts %>%
full_join(list$inventory_parts)
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num"))
lego_df <- list$parts
View(list$inventory_parts)
length(unique(list$inventory_parts$inventory_id))
length(unique(list$inventory_parts$part_num))
source('C:/Users/Beheerder/Desktop/Projects/2019/lego/01_prepare_data.R', echo=TRUE)
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories, by = c("part_cat_id" = "id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id"))
names(lego_df)
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity), by = c("inventory_id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity), by = c("inventory_id")) %>%
full_join(list$sets %>%  rename(set_name = name), by = c("set_num"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity, inv_set_num = set_num), by = c("inventory_id")) %>%
full_join(list$sets %>%  rename(set_name = name), by = c("set_num"))
View(lego_df)
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity, inv_set_num = set_num), by = c("inventory_id")) %>%
full_join(list$sets %>%  rename(set_name = name), by = c("set_num")) %>%
full_join(list$themes %>% rename(theme_name = name), by = c("theme_id", "id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity, inv_set_num = set_num), by = c("inventory_id")) %>%
full_join(list$sets %>%  rename(set_name = name), by = c("set_num")) %>%
full_join(list$themes %>% rename(theme_name = name), by = c("id", "theme_id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity, inv_set_num = set_num), by = c("inventory_id")) %>%
full_join(list$sets %>%  rename(set_name = name), by = c("set_num")) %>%
full_join(list$themes %>% rename(theme_name = name), by = c("theme_id", "id"))
lego_df <- list$parts %>%
full_join(list$inventory_parts, by = c("part_num")) %>%
full_join(list$part_categories %>% rename(part_name_cat = name), by = c("part_cat_id" = "id")) %>%
full_join(list$colors %>% rename(col_name = name), by = c("color_id" = "id")) %>%
full_join(list$inventories, by = c("inventory_id" = "id")) %>%
full_join(list$inventory_sets %>% rename(set_quantity = quantity, inv_set_num = set_num), by = c("inventory_id")) %>%
full_join(list$sets %>%  rename(set_name = name), by = c("set_num")) %>%
full_join(list$themes %>% rename(theme_name = name), by = c("theme_id" = "id"))
lego_2018 <- lego_df %>%
filter(jaar = 2018)
lego_2018 <- lego_df %>%
filter(jaar == 2018)
names(lego_df)
lego_2018 <- lego_df %>%
filter(year == 2018)
